<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<style>
*{ margin: 0; padding: 0; list-style: none;}
div{ width: 666px; overflow: hidden; margin: 0 auto; background:blue;}
ul{float: left; width: 200px; margin: 10px;}
li{background:#ccc; margin: 10px 0; font-size: 50px; font-weight: bload; text-align: center;}
li img{ width: 100%; height: 100%; display: block;}
#page{ height: 100px; background: #999; display: none;}
</style>
<script>
window.onload=function ()
{
    var aPic=['.jpg','.jpe','.jpg'];
    var oPage=document.getElementById('page');
    var aTmp=document.getElementsByTagName('ul');
    var aUl=[];
    for(var i=0; i<aTmp.length; i++)
    {
        aUl.push(aTmp[i]);
    }
    var n=0;
    createLi();

    window.onscroll=function ()
    {
        var scrollTop=document.documentElement.scrollTop || document.body.scrollTop;
        var clientHeight=document.documentElement.clientHeight;
        var h=clientHeight+scrollTop;
        if(document.body.offsetHeight-100<= h)
        {
            createLi();
        }
    };

    function createLi()
    {
        n++;

        if(n >=3)
        {
            oPage.style.display='block';
            return false;
        }
       for(var i=0; i<aPic.length; i++)
       {
            for(var j=0; j<16; j++)
            {
                var oLi=document.createElement('li');
                oLi.innerHTML='<img src="images/pictures/'+j+aPic[i]+'" alt="">';
                if(i==2)
                {
                    oLi.innerHTML='<img src="images/pictures/f'+j+aPic[i]+'" alt="">';
                }
                aUl.sort(function (ul1,ul2){
                return ul1.offsetHeight-ul2.offsetHeight;
                });
                aUl[0].appendChild(oLi);
            }
       }
       
    }

    function rnd(n,m)
    {
        return Math.floor(Math.random()*(m-n)+n);
    }
};
</script>
</head>
<body>
    <div>
        <ul></ul>
        <ul></ul>
        <ul></ul>
    </div>
    <p id="page"></p>
</body>
</html>